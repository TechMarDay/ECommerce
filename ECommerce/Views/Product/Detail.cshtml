@model ECommerce.Models.Product.ProductDetailModel
@*@{
        ViewData["Title"] = "Home Page";
    }*@
<link href="~/assets/css/productDetail.css" rel="stylesheet" />
<link href="~/assets/css/responsive.css" rel="stylesheet" />
<link href="~/assets/css/toast.css" rel="stylesheet" />
<div id="toast">
</div>
<div class="app__container">
    <div class="grid wide">
        <section class="row bread-crumb-detail">
            <div class="col l-12 m-12 c-12">
                <ul class="bread-crumb-detail-list">
                    <li class="bread-crumb-detail-item">
                        <a href="/" class="bread-crumb-detail__link">Trang chủ</a>
                        <i class="fa fa-angle-right bread-crumb-detail__icon"></i>
                    </li>
                    <li class="bread-crumb-detail-item">
                        <a href="/sanpham.html" class="bread-crumb-detail__link">Tất cả sản phẩm</a>
                        <i class="fa fa-angle-right bread-crumb-detail__icon"></i>
                    </li>
                    <li class="bread-crumb-detail-item">
                        <a href="#" class="bread-crumb-detail__link">@Model.Name</a>
                    </li>
                </ul>
            </div>
        </section>

        <section class="product-detail row">
            <div class="details-product col l-12 m-12 c-12">
                <div class="row">
                    <div class="col l-6 m-12 c-12 product-detail-image-block">
                        <div class="row">
                            <img src="~/@Model.ThumbnailImage"
                                 alt="product detail" class="product-detail-image" id="product-detail-image">
                        </div>
                        <div class="row slide-wrapper">
                            <div class="product-detail-slider">
                                @if (ViewBag.sliderProductImages != null && ViewBag.sliderProductImages.Count > 0)
                                {
                                    var index = 0;
                                    @foreach (var item in ViewBag.sliderProductImages)
                                    {
                                        if (index == 0)
                                        {
                                            <div class="product-detail-slider-item product-detail-slider-active">
                                                <img src="~/@item"
                                                     alt="product detail" class="product-detail-slider-item__img">
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="product-detail-slider-item">
                                                <img src="~/@item"
                                                     alt="product detail" class="product-detail-slider-item__img">
                                            </div>
                                        }
                                        index++;
                                    }
                                }
                                @*<div class="product-detail-slider-item">
                                        <img src="~/assets/img/slider2.jpg"
                                             alt="product detail" class="product-detail-slider-item__img">
                                    </div>
                                    <div class="product-detail-slider-item">
                                        <img src="~/assets/img/slider3.jpg"
                                             alt="product detail" class="product-detail-slider-item__img">
                                    </div>
                                    <div class="product-detail-slider-item">
                                        <img src="~/assets/img/slider4.jpg"
                                             alt="product detail" class="product-detail-slider-item__img">
                                    </div>*@
                            </div>
                        </div>
                    </div>

                    <div class="col l-6 m-12 c-12 product-detail-informations">
                        <div class="product-detail-header">
                            <h1 class="product-detail-head">
                                @Model.Name
                            </h1>
                            <div class="product-detail-branch">
                                Thương hiệu:
                                <span class="product-detail-vendor">GChill</span>
                            </div>
                        </div>

                        <div class="product-detail-prices">
                            <div class="product-detail-price">
                                @if (Model.Discount != null && Model.Discount > 0)
                                {
                                    <span class="real-price">@Model.DiscountPrice?.ToString("###,###,###") vnđ </span>
                                    <span class="old-price">
                                        Giá thị trường:
                                        <span class="product-price-old">
                                            @Model.Price.ToString("###,###,###") vnđ
                                        </span>
                                    </span>
                                }
                                else
                                {
                                    <span class="real-price">@Model.Price.ToString("###,###,###") vnđ </span>

                                }
                            </div>
                            @if (Model.Discount != null && Model.Discount > 0)
                            {
                                <div class="product-detail-save-price">
                                    Tiết kiệm: <span class="product-price-save">
                                        @Model.SavePrice?.ToString("###,###,###") vnđ
                                    </span>
                                </div>
                            }

                            <div class="product-detail-inventory_quantity">
                                Tình trạng:
                                <span class="product-detail-status">
                                    Còn hàng
                                </span>
                            </div>
                        </div>

                        <div class="form-product-detail">
                            <form action="" class="form-product-detail">
                                <label for="" class="product-detail-quantity">Số lượng</label>
                                <div class="custom custom-btn-numbers form-control">
                                    <button onclick="var result = document.getElementById('qty'); var qty = result.value; if( !isNaN(qty) &amp; qty > 1 ) result.value--;return false;" class="btn-minus btn-cts" type="button">–</button>
                                    <input type="text" class="qty input-text" id="qty" name="quantity" size="4" value="1" maxlength="3">
                                    <button onclick="var result = document.getElementById('qty'); var qty = result.value; if( !isNaN(qty)) result.value++;return false;" class="btn-plus btn-cts" type="button">+</button>
                                </div>
                                @*<a class="btn btn-product-buy" href="https://www.facebook.com/gchillbra">
                                        <span class="btn-buy-text">Đặt mua giao hàng tận nơi</span>
                                    </a>*@
                            </form>
                        </div>

                        @*<i class="fa fa-shopping-cart"></i>*@
                        <div class="buy-wrapper">
                            <a class="btn btn-add-cart-detail" href="#" data-id="@Model.Id">Thêm vào giỏ hàng</a>
                            <a class="btn btn-buy-detail" href="#" data-id="@Model.Id">Mua ngay với 1 click</a>
                        </div>

                        <div class="call-and-payment">
                            Hotline đặt hàng:
                            <a href="tel:0362218619" title="0362218619">
                                <i class="fa fa-phone-square"></i>
                                0388653287
                            </a>
                            (7:30-22:00)
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col l-12 m-12 c-12 product-detail-tab">
                        <ul class="product-detail-tab-list">
                            <li class="product-detail-tab-item">
                                <a href="/" class="product-detail-tab__link ">Mô tả</a>
                            </li>
                            <!-- <li class="product-detail-tab-item">
                                <a href="/" class="product-detail-tab__link">Chính sách đổi trả</a>
                            </li> -->
                        </ul>
                        <div class="product-description">
                            @Html.Raw(@Model.Description)
                        </div>
                    </div>
                </div>
            </div>

        </section>

    </div>


    <div class="grid wide">
        <div class="row app__content">
            <div class="col l-12 m-12 c-12">
                <div class="product-relation">
                    <h3 class="product-relation-label">
                        <a href="/" class="product-relation__link">Sản phẩm liên quan</a>
                    </h3>
                </div>

                <div class="product">
                    <div class="row sm-gutter product-item-wrapper">
                        <!-- Product item -->
                        @if (ViewBag.Products != null && ViewBag.Products.Count > 0)
                        {
                            @foreach (var item in ViewBag.Products)
                            {
                                <div class="col l-2-4 m-4 c-6 ">
                                    <a href="~/@item.Url" class="product-item">
                                        <div class="product-item__img" style="background-image: url(@item.ThumbnailImage);">
                                        </div>
                                        <h4 class="product-item__name">
                                            @item.Name
                                        </h4>
                                        <div class="product-item__price">
                                            <span class="product-item__price-current">@item.Price.ToString("###,###,###") vnđ</span>
                                            @if (item.Discount != null && item.Discount > 0)
                                            {
                                                <span class="product-item__price-old">@item.DiscountPrice.ToString("###,###,###")</span>
                                            }
                                        </div>
                                        @if (item.Discount != null && item.Discount > 0)
                                        {
                                            <div class="product-item__sale-off">

                                                <span class="product-item__sale-off-percent">@item.Discount %</span>
                                                <span class="product-item__sale-off-lable">GIẢM</span>
                                            </div>
                                        }
                                    </a>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

@section Scripts {
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/ckeditor/ckeditor.js"></script>
    <script src="~/ckeditor/adapters/jquery.js"></script>
    @*<script type="text/javascript">
            $(function () {
                $(function () {
                    hljs.initHighlightingOnLoad();
                })
            });
        </script>*@

    <script src="~/assets/Jquery/toast.js"></script>
    <script src="~/assets/Jquery/productDetail.js"></script>
}
